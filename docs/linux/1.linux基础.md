# linux 基础

## 常见目录介绍

- / 根目录
- /root root用户的家目录
- /home/username 普通用户的家目录
- /etc 配置文件目录
- /bin 命令目录
- /sbin 管理命令目录
- /usr/bin /usr/sbin 系统预装的其他命令

## 查看当前目录文件
- -l 详细
- -h 文件大小用单位展示 xxxMB 
```bash
ls -lh
```
## 进入xx文件夹
- 绝对路径 /root/xxx
- 相对路径 ../xxx/
```bash
cd xxx

cd .. 
cd ./xx/
```
## 创建和删除
### 创建
```bash
mkdir xx 创建文件夹
touch xx 创建文件
```
### 删除
```bash
rm xx 会有提示 y代表确定删除
rm -r 递归删除
rm -f 强制删除 也就是不提示
rm -rf * 递归删除所有 此操作很危险
```
### 复制和移动
```bash
cp 复制
mv 移动
```
## 查看文件内容
### 普通查看
```bash
cat xxx.log
```
### 查看文件前10行
```bash
head -n 10 xxx.log
head -10 xxx.log
```
### 查看文件尾10行
```bash
tail -n 10 xxx.log
tail -f xxx.log 持续查看 监控文件变化
```
## 解压缩文件
- 打包和压缩是两个操作, 打包不是压缩
- 用的都是tar 命令
- -c 打包
- -z gz压缩
- -j bz2压缩
- -x 解包
### 打包
```bash
tar -cf [路径/文件名] [打包目标路径]
```
- c 代表create f代表文件 意思就是打包成文件
### 打包用 gz 压缩
```bash
tar -czf [路径/文件名] [打包目标路径]
```
- 一般文件命名都是 .tar.gz后缀
### 打包用 bz2 压缩
```bash
tar -cjf [路径/文件名] [打包目标路径]
```
- 一般文件命名都是 .tar.bz2后缀

- gz压缩快, 比例没bz2高
- bz2压缩比例高, 时间慢

### 解包
```bash
tar -xf 包 -C 解压到哪里
```

### 解包并解压缩

```bash
tar -zxf 包 -C 解压到哪里
```
- 注意网上有.tbz2 或 .tgz 其实是.tar.bz2和.tar.gz的缩写

## 编辑文件
> vim 是 vi 的升级版
```bash
vim xxx.log
```
### 正常模式
- h 向左移动光标
- l 向右移动光标
- z 向下
- k 向上
- y 复制 yy复制当前行 y$复制到结尾
- d 剪切 同上
- t 粘贴
- u 撤销
- ctrl + r 重做 (撤销后按这个取消撤销)
- x 删除
- r 替换当前字符
- G 移动到文本最后一行 (11 G 这样则表示 移动到11行)
- g 移动到第一行
- $ 移动到本行最后
- ^ 移动到本行开头
### 插入模式111
正常模式中，按 i o a I O A 都能进入插入模式
- i 光标在当前位置
- o 光标会换行
- a 光标会往后一位
- A 光标会在当前行最后面
- I 光标会在当前行最前面
- O 光变往上换行
### 命令模式 (冒号模式)
正常模式中 按 :
退出按 esc 一次或两次
- :set nu 显示行号
- :w 保存 (w 路径) 代表保存在哪
- :q 退出 q! 强制退出不保存
- :wq 保存退出 wq!表示强制
- :x 退出或保存退出 跟wq区别就是没修改不会改变文件更新时间
- :! 执行linux命令 例如 :!ls -l
- :/3 查找为3的字符 按n 往下一移动找 shift n 往上一个移动找
- :s/old/new 查找替换 针对光标所在行 :%s代表整个文件 /g代表所有都替换不然只会替换一个 3,5s代表3到5行
### 可视模式
正常模式中 按 v
- shift + v 当前行模式
- ctrl + v 块模式
