# vue3

## vue2 的困境

抽象逻辑代码的缺失
typesctipt 支持很差

> 所以出现了 vue3

## vue3 新特性

- 兼容 vue2 写法
- 完美支持 typescript，用 typescript 实现的
- 传送门组件 teleport
- 速度快 内存占用更小 响应式改用 Proxy + Reflect
- 抛弃 ie11 以下浏览器，因为不是每个浏览器都兼容 Proxy
- composition api
- 抛弃了一些 vue2 的 api，具体看文档

## 为什么要使用 composition api，作用是什么

- 让我们把相关的模块代码写在一起，而不像 Options api 响应式数据只能放在 data, 函数只能放在 methods
- composition api 让我们的代码写的更清晰，方便解耦，也可抽离
- 当然 composition api 和 options api 也有各自的好处，具体看场景使用

## 自定义函数 hooks 得利于 composition api

- 将相关的 feature 写在一起
- 非常易于重用

### 优点:

- 以函数的方式调用，清楚知道需要的参数和返回参数类型
- 避免命名冲突
- 代码逻辑脱离组件存在
- 比如以前用 mixin 现在则不需要了

## vue3.2 版本之后

- ref 性能更快了
- script setup 的写法 改为正式功能，之前是实验性
