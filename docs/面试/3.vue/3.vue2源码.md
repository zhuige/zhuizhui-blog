# vue2源码

> initMixin() _init()  
> stateMixin() $data $props $set $delete $watch
> 

## new Vue() 做了什么
### 执行 initMixin 里面的 _init() 函数

- mergeOptions() 合并options , 不然transition keep-alive component 这些组件为什么不用注册就直接能用 全局 direct filter 等被合并 比如v-show v-model
- initLifecycle() $parent $root $children
- initEvents() 自定义事件 发布订阅
- initRender() createElement 的初始化 插槽的初始化 defineReactive响应式定义这两个属性 $attrs $listeners
- callHook(vm, 'beforeCreate') 触发生命周期 beforeCreate 函数
- initInjections() resolve injections before data/props
- initState() props > methods > data > computed > watch
- initProvide() resolve provide after data/props
- callHook(vm, 'created') 触发生命周期 created 函数
- vm.$options.el 如果有 el 则调用 $mount(vm.$options.el) 挂载
